datasplit:
  cmd: $VAE_PY src/pipeline/datasplit.py
  deps:
  - path: src/pipeline/datasplit.py
    md5: ec7d9c76fdb6dc4f3ea7c7c462872745
  outs:
  - path: data/intermediate/hcl_test_data.h5ad
    md5: 421dc4684023da609f1bd5d91a693df5
  - path: data/intermediate/hcl_train_data.h5ad
    md5: e070f659f781cac8badda99279787f0b
  - path: data/intermediate/hcl_val_data.h5ad
    md5: ea893e8a42af57b0e4da706ec63ad386
test_train_val_split:
  cmd: $VAE_PY src/pipeline/test_train_val_split.py
  deps:
  - path: data/raw/Single_cell_atlas_of_peripheral_immune_response_to_SARS_CoV_2_infection.h5ad
    md5: 9126c2e5dcd4cacac9657b0111ced8d8
    size: 1680490384
  - path: src/pipeline/test_train_val_split.py
    md5: 5cc4ec03e3df8774e7bb0680e55262c4
    size: 941
  outs:
  - path: data/intermediate/covid_test_data.h5ad
    md5: 4dfd09daac884696f029a0048dc3e0fa
    size: 176913279
  - path: data/intermediate/covid_train_data.h5ad
    md5: b6d27edb99d5e7d72955bc6f4c4b951d
    size: 1345308645
  - path: data/intermediate/covid_val_data.h5ad
    md5: d0cdb8feb7a3655603cdb8c9b05598db
    size: 174185618
train_vae:
  cmd: $VAE_PY src/pipeline/train_vae.py
  deps:
  - path: data/intermediate/covid_test_data.h5ad
    md5: 4dfd09daac884696f029a0048dc3e0fa
    size: 176913279
  - path: data/intermediate/covid_train_data.h5ad
    md5: b6d27edb99d5e7d72955bc6f4c4b951d
    size: 1345308645
  - path: data/intermediate/covid_val_data.h5ad
    md5: d0cdb8feb7a3655603cdb8c9b05598db
    size: 174185618
  - path: src/pipeline/train_vae.py
    md5: 7e13fe22638e3542672d4201c1f143e0
    size: 5429
  params:
    params.toml:
      training.batch_size: 256
      training.latent_dimensions_initial_guess: 32
      training.newton_temperature: 100
      training.vae_trainer.max_epochs: 10
  outs:
  - path: data/artifacts/vae.onnx
    md5: 47927372f8f4876836ba9e6e011d6c7f
    size: 8481326
