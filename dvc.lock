datasplit:
  cmd: $VAE_PY src/pipeline/datasplit.py
  deps:
  - path: src/pipeline/datasplit.py
    md5: ec7d9c76fdb6dc4f3ea7c7c462872745
  outs:
  - path: data/intermediate/hcl_test_data.h5ad
    md5: 421dc4684023da609f1bd5d91a693df5
  - path: data/intermediate/hcl_train_data.h5ad
    md5: e070f659f781cac8badda99279787f0b
  - path: data/intermediate/hcl_val_data.h5ad
    md5: ea893e8a42af57b0e4da706ec63ad386
test_train_val_split:
  cmd: $VAE_PY src/pipeline/test_train_val_split.py
  deps:
  - path: data/raw/Single_cell_atlas_of_peripheral_immune_response_to_SARS_CoV_2_infection.h5ad
    md5: 9126c2e5dcd4cacac9657b0111ced8d8
    size: 1680490384
  - path: src/pipeline/test_train_val_split.py
    md5: 8067c9c08b26525ef81eb1e4950fad05
    size: 922
  outs:
  - path: data/intermediate/covid_test_data.h5ad
    md5: 0dc9ec980ed260d85c4cbf6a199a4800
    size: 175193054
  - path: data/intermediate/covid_train_data.h5ad
    md5: 37004a4fe85b003316bed72f79c1207f
    size: 1355067873
  - path: data/intermediate/covid_val_data.h5ad
    md5: 323c361a180a4131b7a50c53e61f8cdb
    size: 175066788
train_vae:
  cmd: $VAE_PY src/pipeline/train_vae.py
  deps:
  - path: data/intermediate/covid_test_data.h5ad
    md5: 4dfd09daac884696f029a0048dc3e0fa
    size: 176913279
  - path: data/intermediate/covid_train_data.h5ad
    md5: b6d27edb99d5e7d72955bc6f4c4b951d
    size: 1345308645
  - path: src/pipeline/train_vae.py
    md5: 5005faf98ceaf943e1031ec5e661b91c
    size: 7410
  params:
    params.toml:
      training.batch_size: 256
      training.latent_dimensions_initial_guess: 32
      training.newton_temperature: 100
      training.vae_trainer.max_epochs: 10
  outs:
  - path: data/artifacts/vae.pth
    md5: c1a0b98f904a040e178c6625284b6c4b
    size: 8357493
  - path: data/artifacts/vae.pth.json
    md5: 893eeee7e8c1a528118cddcb6e7e966d
    size: 68
simulation:
  cmd: $VAE_PY src/pipeline/simulation.py
  deps:
  - path: data/artifacts/vae.pth
    md5: c1a0b98f904a040e178c6625284b6c4b
    size: 8357493
  - path: data/artifacts/vae.pth.json
    md5: 893eeee7e8c1a528118cddcb6e7e966d
    size: 68
  - path: data/intermediate/covid_train_data.h5ad
    md5: b6d27edb99d5e7d72955bc6f4c4b951d
    size: 1345308645
  - path: src/pipeline/simulation.py
    md5: 105f4424cfec8d71f9932f76e4b240e4
    size: 3498
  outs:
  - path: data/artifacts/simulation_gene_expression.pq
    md5: 4981ce5d14ad7fca5c7761d343a54863
    size: 421823972
