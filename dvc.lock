datasplit:
  cmd: $VAE_PY src/pipeline/datasplit.py
  deps:
  - path: src/pipeline/datasplit.py
    md5: ec7d9c76fdb6dc4f3ea7c7c462872745
  outs:
  - path: data/intermediate/hcl_test_data.h5ad
    md5: 421dc4684023da609f1bd5d91a693df5
  - path: data/intermediate/hcl_train_data.h5ad
    md5: e070f659f781cac8badda99279787f0b
  - path: data/intermediate/hcl_val_data.h5ad
    md5: ea893e8a42af57b0e4da706ec63ad386
test_train_val_split:
  cmd: $VAE_PY src/pipeline/test_train_val_split.py
  deps:
  - path: data/raw/Single_cell_atlas_of_peripheral_immune_response_to_SARS_CoV_2_infection.h5ad
    md5: 9126c2e5dcd4cacac9657b0111ced8d8
    size: 1680490384
  - path: src/pipeline/test_train_val_split.py
    md5: 8067c9c08b26525ef81eb1e4950fad05
    size: 922
  outs:
  - path: data/intermediate/covid_test_data.h5ad
    md5: 0dc9ec980ed260d85c4cbf6a199a4800
    size: 175193054
  - path: data/intermediate/covid_train_data.h5ad
    md5: 37004a4fe85b003316bed72f79c1207f
    size: 1355067873
  - path: data/intermediate/covid_val_data.h5ad
    md5: 323c361a180a4131b7a50c53e61f8cdb
    size: 175066788
train_vae:
  cmd: $VAE_PY src/pipeline/train_vae.py
  deps:
  - path: data/intermediate/covid_test_data.h5ad
    md5: 0dc9ec980ed260d85c4cbf6a199a4800
    size: 175193054
  - path: data/intermediate/covid_train_data.h5ad
    md5: 37004a4fe85b003316bed72f79c1207f
    size: 1355067873
  - path: src/pipeline/train_vae.py
    md5: edb4bc6ca67a0f1f322523380829519d
    size: 7436
  params:
    params.toml:
      training.batch_size: 256
      training.latent_dimensions_initial_guess: 32
      training.newton_temperature: 1
      training.vae_trainer.max_epochs: 2
  outs:
  - path: data/artifacts/vae.pth
    md5: 109c590c584652940e37eb3bf4f7befe
    size: 8499061
  - path: data/artifacts/vae.pth.json
    md5: 3066ff85ae4de468862d5b4a39b670eb
    size: 69
simulation:
  cmd: $VAE_PY src/pipeline/simulation.py
  deps:
  - path: data/artifacts/vae.pth
    md5: 109c590c584652940e37eb3bf4f7befe
    size: 8499061
  - path: data/artifacts/vae.pth.json
    md5: 3066ff85ae4de468862d5b4a39b670eb
    size: 69
  - path: data/intermediate/covid_train_data.h5ad
    md5: 37004a4fe85b003316bed72f79c1207f
    size: 1355067873
  - path: src/pipeline/simulation.py
    md5: 88d01c9250d5ecbde28ace370bfaf66f
    size: 4038
  outs:
  - path: data/artifacts/simulation_gene_expression.pq
    md5: bf277aac2857cbb6559a9b79bcb8d44c
    size: 2638950730
